# 常见问题与解决方法

## **问题1：执行nvwa update后未升级**

原因：保留现场或者内核替换过程中出现错误

解决方法：查看日志，找出错误原因

## **问题2：热升级后，相关现场未被恢复**

原因：首先检查nvwa服务是否运行，运行情况下，可能存在两种情况，一种是服务恢复失败，一种是进程恢复失败。

解决方法：通过service nvwa status查看nvwa的日志，如果是服务启动失败，通过systemd查看对应服务的日志。进一步的日志，去criu_dir指定的路径对应命名的进程/服务文件夹中。其中dump.log为保存现场产生的日志，restore.log为恢复现场产生的。

## **问题3：恢复失败，日志显示Can't fork for 948: File exists **

原因：NVWA在恢复程序过程中，发现程序的pid已经被占用

解决方法：当前内核没有提供保留pid的机制，相关策略正在开发，预计会在将来的内核版本中解决这一限制，当前仅能手动重启相关进程。
